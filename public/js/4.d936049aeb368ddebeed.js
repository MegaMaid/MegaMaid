webpackJsonp([4],{WzgT:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Xxa5"),i=a.n(e),n=a("2gGM"),r=a.n(n),o=a("NYxO");var l={middleware:"admin",scrollToTop:!1,metaInfo:function(){return{title:this.$t("users")+" "+this.$t("settings")}},data:function(){return{loading:!0,lastInvitation:{},lastInvitationUrl:"",form:new r.a({is_admin:!1,name:"",email:""})}},computed:(Object.assign||function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t})({showInvitationCreatedAlert:function(){return this.lastInvitation.token&&this.isManualEmailSetting},isManualEmailSetting:function(){var t=this.$store.getters["config/email"].type;return"manual"===t||void 0===t}},Object(o.mapGetters)({users:"config/users"})),watch:{users:function(t){this.loading=!1}},created:function(){this.lastInvitation={},this.loading=!0,this.$store.dispatch("config/fetchUsers")},methods:{update:function(){var t,s=(t=i.a.mark(function t(){var s,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastInvitationUrl="",t.next=3,this.form.post("/api/settings/users/invite");case 3:s=t.sent,a=s.data,this.lastInvitation=a,this.form.reset();case 7:case"end":return t.stop()}},t,this)}),function(){var s=t.apply(this,arguments);return new Promise(function(t,a){return function e(i,n){try{var r=s[i](n),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});t(o)}("next")})});return function(){return s.apply(this,arguments)}}()}},c=a("XyMi");var m=function(t){a("nQ+h")},u=Object(c.a)(l,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("card",{staticClass:"settings-users-invite mb-3",attrs:{title:t.$t("users-invite")}},[t.showInvitationCreatedAlert?a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("h5",{staticClass:"alert-heading"},[t._v("Invitation Created!")]),t._v(" "),a("div",{staticClass:"input-group mb-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastInvitation.url,expression:"lastInvitation.url"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.lastInvitation.url},on:{input:function(s){s.target.composing||t.$set(t.lastInvitation,"url",s.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.lastInvitation.url,expression:"lastInvitation.url",arg:"copy"}],staticClass:"btn btn-primary"},[t._v("Copy to Clipboard")])])]),t._v(" "),a("p",{staticClass:"mt-2"},[a("small",[t._v("Send the above link to the new user so they can complete the signup process.")])])]):t._e(),t._v(" "),a("form",{on:{submit:function(s){return s.preventDefault(),t.update(s)},keydown:function(s){t.form.onKeydown(s)}}},[t.isManualEmailSetting?t._e():a("alert-success",{attrs:{form:t.form,message:t.$t("users-invite-sent")}}),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-7 offset-md-3"},[a("checkbox",{attrs:{checked:t.form.is_admin,name:"enabled"},model:{value:t.form.is_admin,callback:function(s){t.$set(t.form,"is_admin",s)},expression:"form.is_admin"}},[t._v("\n                        "+t._s(t.$t("users-invite-as-admin"))+"\n                    ")])],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v(t._s(t.$t("name")))]),t._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",name:"name"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,"name",s.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"name"}})],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v(t._s(t.$t("email")))]),t._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email",name:"email"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"email"}})],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-9 ml-md-auto"},[t.isManualEmailSetting?a("v-button",{attrs:{type:"success",loading:t.form.busy}},[t._v(t._s(t.$t("create-invite")))]):t._e(),t._v(" "),t.isManualEmailSetting?t._e():a("v-button",{attrs:{type:"success",loading:t.form.busy}},[t._v(t._s(t.$t("invite")))])],1)])],1)]),t._v(" "),a("card",{staticClass:"settings-users-active",attrs:{title:t.$t("users")}},[t.loading?a("div",{staticClass:"text-center m-5"},[a("h2",[t._v(t._s(t.$t("loading")+" "+t.$t("users")+" "+t.$t("settings")))]),t._v(" "),a("fa",{staticClass:"global-searching-spinner mt-3",attrs:{icon:"cog",size:"6x",spin:""}})],1):t._e(),t._v(" "),a("div",{staticClass:"row pb-2"},t._l(t.users,function(s,e){return a("div",{key:s.id+"-"+s.email,staticClass:"col-6"},[a("card",{staticClass:"mt-4",attrs:{title:s.email}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",[t._v(t._s(s.name))])]),t._v(" "),a("div",{staticClass:"col-6"},[a("p",{staticClass:"text-right"},[t._v(t._s(t.$t("users-role"))+": "+t._s(s.role))])])])])],1)}))])],1)},[],!1,m,null,null);s.default=u.exports},jERL:function(t,s,a){(t.exports=a("FZ+f")(!1)).push([t.i,".settings-users-active>.card-body{padding-top:0}",""])},"nQ+h":function(t,s,a){var e=a("jERL");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a("rjj0").default)("80ffa7ec",e,!0,{})}});
//# sourceMappingURL=4.d936049aeb368ddebeed.js.map